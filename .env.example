# Database Configuration
# For local development with Docker:
DATABASE_URL="postgresql://ypp:ypp@localhost:5432/ypp_pathways"
DIRECT_URL="postgresql://ypp:ypp@localhost:5432/ypp_pathways"

# For Vercel deployment, use one of these providers:
# - Vercel Postgres: postgres://...@...vercel-storage.com/verceldb?sslmode=require
# - Neon: postgres://...@...neon.tech/neondb?sslmode=require
# - Supabase: postgres://...@...supabase.co:5432/postgres
# - PlanetScale: mysql://...@...planetscale.com/...?sslaccept=strict

# If using connection pooling (recommended for serverless), add:
# DATABASE_URL="postgresql://...?pgbouncer=true&connection_limit=1"
# For Supabase specifically:
# DATABASE_URL="postgresql://postgres.<ref>:<password>@aws-<region>.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1&sslmode=require"
# DIRECT_URL="postgresql://postgres:<password>@db.<ref>.supabase.co:5432/postgres?sslmode=require"
# Optional runtime override (use this only if your pooler URL is temporarily failing):
# PRISMA_RUNTIME_DATABASE_URL="postgresql://postgres:<password>@db.<ref>.supabase.co:5432/postgres?sslmode=require"

# NextAuth Configuration
NEXTAUTH_SECRET="replace-with-a-random-secret-use-openssl-rand-base64-32"
# For local development:
NEXTAUTH_URL="http://localhost:3000"
# For Vercel deployment, NEXTAUTH_URL is automatically set to VERCEL_URL
# You can also set it to your custom domain:
# NEXTAUTH_URL="https://your-domain.vercel.app"

# Seed password (required for database seeding only)
# SEED_PASSWORD="a-strong-password-for-demo-accounts"

# Google OAuth (optional - enables "Sign in with Google" on login/signup pages)
# To configure: https://console.cloud.google.com → APIs & Services → Credentials → OAuth 2.0
# Add authorized redirect URI: https://yourdomain.com/api/auth/callback/google
# Leave unset to disable Google OAuth (credentials-only auth remains functional)
# GOOGLE_CLIENT_ID="your-client-id.apps.googleusercontent.com"
# GOOGLE_CLIENT_SECRET="your-client-secret"

# Pusher Real-Time Messaging (optional - enables instant message delivery)
# To configure: https://pusher.com → Create app → Get credentials
# When unset, messaging uses standard polling (revalidatePath) - slower but functional
# PUSHER_APP_ID="your_app_id"
# NEXT_PUBLIC_PUSHER_KEY="your_pusher_key"
# PUSHER_SECRET="your_pusher_secret"
# NEXT_PUBLIC_PUSHER_CLUSTER="us2"

# Native instructor readiness rollout flags
# Set to "false" for staged rollout, then "true" to enforce.
ENABLE_NATIVE_INSTRUCTOR_GATE="true"
ENFORCE_PRE_OFFERING_INTERVIEW="true"

# Unified "all tools" primary-role dashboard
# Set to "false" to temporarily use legacy overview page at "/".
ENABLE_UNIFIED_ALL_TOOLS_DASHBOARD="true"

# Email Service (required for password reset and notifications)
# Get your API key from https://resend.com
RESEND_API_KEY="re_..."

# Sender email address (must be verified in Resend or use onboarding@resend.dev for testing)
EMAIL_FROM="Youth Passion Project <noreply@youthpassionproject.org>"

# Alternative: SMTP (e.g. Gmail)
# Use this if you do NOT have DNS access to verify a sending domain in Resend.
# Gmail requires a Google "App Password" (not your normal password).
# Set EMAIL_PROVIDER="smtp" to force SMTP, or leave it unset to auto-detect.
# EMAIL_PROVIDER="smtp"
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="465"
# SMTP_SECURE="true"
# SMTP_USER="your-gmail@gmail.com"
# SMTP_PASS="your-16-char-app-password"

# File Storage (required for production uploads)
# In production (Vercel), files MUST be stored in cloud storage.
# Vercel's filesystem is ephemeral - local files are lost on every deployment.

# Storage Provider (optional - auto-detects by default)
# - "auto" (default): Use Blob if configured, fallback to local in development
# - "blob": Force Vercel Blob (recommended for production)
# - "local": Force local disk (development only, DO NOT use in production)
# STORAGE_PROVIDER="auto"

# Vercel Blob Storage (recommended for production)
# This token is automatically set by Vercel when you enable Blob Storage.
# Get it from: Vercel Dashboard → Storage → Blob → Copy Token
# BLOB_READ_WRITE_TOKEN="vercel_blob_..."

# Alternative: AWS S3 (if not using Vercel Blob)
# Note: Current implementation uses Vercel Blob only.
# To add S3 support, extend /lib/storage.ts with S3 provider.
# AWS_ACCESS_KEY_ID="..."
# AWS_SECRET_ACCESS_KEY="..."
# AWS_S3_BUCKET="..."
# AWS_REGION="us-east-1"
